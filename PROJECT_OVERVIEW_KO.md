# PATHTENT - 특허 유사도 검색 시스템

## **프로젝트란?**

**PATHTENT**는 사용자가 보유한 기술이나 발명과 유사한 기존 특허를 빠르게 찾아주는 AI 기반 특허 검색 플랫폼입니다. 대한민국 특허청의 **KIPRIS** (특허정보검색서비스) API를 활용하여 한국의 전체 특허 데이터베이스를 검색하고, Google의 Gemini AI를 사용하여 지능적으로 특허를 분석합니다.

---

## **세 가지 주요 구성 요소**

### **1. 백엔드 (Python/FastAPI) - 핵심 엔진**

- **REST API 서버**: 사용자의 특허 검색 요청을 처리하는 중앙 허브
- **AI 쿼리 생성**: 사용자가 자연어로 설명한 기술을 최적의 검색어로 자동 변환 (Gemini AI)
- **병렬 처리 시스템**: 수백 개의 특허를 동시에 처리하는 분산 작업 큐 (pgqueuer)
- **PDF 자동 분석**: 특허 PDF에서 "청구범위" 추출 (가장 중요한 기술 명세서)
- **벡터 임베딩**: 추출된 청구범위를 수치화된 벡터로 변환 (Gemini 임베딩 모델)
- **유사도 계산**: 사용자의 기술과 기존 특허들 간의 유사도 비교
- **데이터 저장**: PostgreSQL 데이터베이스에 검색 결과 저장

### **2. 프론트엔드 (Next.js/React) - 사용자 인터페이스**

- **현대적인 웹 인터페이스**: 사용자가 기술을 설명하고 결과를 확인하는 화면
- **다국어 지원**: 한국어, 영어 등 여러 언어 지원 (i18n/i10n)
- **아름다운 디자인**: Tailwind CSS와 Radix UI를 사용한 전문적인 UI
- **E2E 테스트**: Playwright를 사용한 자동화된 테스트로 안정성 보장

### **3. 크롬 확장 프로그램 - 보조 도구**

- **특허청 웹사이트 가이드**: 사용자가 특허청(patent.go.kr) 사이트를 이용할 때 도움을 주는 AI 챗봇
- **인터랙티브 투어**: Driver.js를 사용한 웹사이트 요소별 가이드
- **통합 지원**: 특허 검색과 출원 과정을 단계별로 안내

---

## **사용자 워크플로우 (어떻게 동작하는가?)**

### **Step 1: 기술 설명**
사용자가 "열 처리를 통한 복합재료 접합 방법"처럼 자신의 발명을 설명합니다.

### **Step 2: AI가 검색어 생성**
Gemini AI가 사용자의 설명을 분석하여 최적의 KIPRIS 검색어를 자동 생성합니다.
- 예: 사용자 입력 → "복합재료", "접합", "열처리" 등으로 자동 변환

### **Step 3: KIPRIS 검색**
백엔드가 생성된 검색어로 KIPRIS에서 관련 특허 전체를 검색합니다.
- 수십 개에서 수백 개의 특허가 나올 수 있습니다.

### **Step 4: 특허 자동 분석**
검색된 각 특허에 대해:
- **PDF 다운로드**: KIPRIS에서 특허 PDF 파일 자동 다운로드
- **청구범위 추출**: PDF에서 법적으로 중요한 "청구범위" 부분만 추출
- **벡터 변환**: 청구범위를 수치 벡터로 변환 (768차원의 수학적 표현)
- **병렬 처리**: 모든 특허를 동시에 처리하여 속도 최적화

### **Step 5: 유사도 비교**
- 사용자 기술을 벡터로 변환
- 모든 특허 벡터와 코사인 유사도 계산
- 70% 이상 유사한 특허만 필터링

### **Step 6: 결과 반환**
- 유사도가 높은 순서대로 상위 결과 제시
- 각 특허의 청구범위, 유사도 점수, 특허 정보 표시

---

## **기술 스택 개요**

| 계층            | 기술 스택                      |
| --------------- | ------------------------------ |
| **백엔드 API**  | FastAPI (Python)               |
| **프론트엔드**  | Next.js 16 + React 19          |
| **확장 프로그램** | WXT 프레임워크 + React         |
| **데이터베이스**| PostgreSQL + pgqueuer 작업 큐  |
| **벡터 DB**    | Pinecone (클라우드) 또는 Qdrant (자체 호스팅) |
| **AI/ML**       | Google Gemini 3 Flash, Pydantic AI |
| **PDF 처리**    | PyMuPDF                        |
| **스타일링**    | Tailwind CSS                   |
| **외부 API**    | KIPRIS (특허청 API)            |

---

## **아키텍처의 핵심 설계**

### **왜 이런 구조인가?**

1. **분산 처리 (Distributed Processing)**
   - pgqueuer 작업 큐를 사용하여 수백 개의 특허를 병렬로 처리
   - 한 특허의 처리 실패가 다른 특허에 영향 없음
   - 자동으로 실패한 작업 재시도

2. **AI 활용**
   - Gemini AI로 자연어 이해 → 최적 검색어 자동 생성
   - 사용자가 검색어를 직접 입력할 필요 없음
   - 의도 파악으로 더 정확한 검색

3. **벡터 임베딩 기반 매칭**
   - 키워드 검색이 아닌 의미 기반 검색
   - "접착" vs "결합"같은 다른 용어도 유사하다고 인식
   - 인간의 기술 이해와 더 가까운 매칭

4. **유연한 벡터 저장소**
   - Pinecone: 클라우드 기반, 관리 용이, 비용 증가
   - Qdrant: 자체 호스팅, 더 저렴, 자유도 높음
   - 프로젝트 규모에 따라 선택 가능

5. **확장 가능한 배포**
   - 로컬 개발: Docker Compose로 PostgreSQL + Qdrant
   - 프로덕션: Railway + Neon PostgreSQL
   - 언제든 클라우드 확장 가능

---

## **데이터 흐름 요약**

```
사용자 입력
    ↓
[AI가 검색어 생성]
    ↓
[KIPRIS에서 특허 검색] → 100개 특허 발견
    ↓
[병렬 처리로 분석]
  ├─ 특허 1: PDF → 청구범위 추출 → 벡터화 → 저장
  ├─ 특허 2: PDF → 청구범위 추출 → 벡터화 → 저장
  ├─ 특허 3: ...
  └─ 특허 100: ...
    ↓
[유사도 계산]
  - 모든 특허와 사용자 기술 비교
  - 유사도 70% 이상만 선택
    ↓
[결과 정렬 및 반환]
  - 유사도 높은 순서대로 표시
```

---

## **핵심 가치**

### **발명가 입장**
- ✅ 출원 전에 유사 특허 자동 확인
- ✅ 발명이 정말 새로운지 판단
- ✅ 특허 출원 전략 수립
- ✅ 선행기술 조사 시간 대폭 단축

### **기업 입장**
- ✅ 경쟁사의 특허 포트폴리오 분석
- ✅ 기술 경향 파악
- ✅ R&D 방향 결정
- ✅ 라이선싱 기회 발굴

### **변리사/특허 전문가 입장**
- ✅ 의뢰인을 위한 선행기술 조사 자동화
- ✅ 특허 명세서 작성 시 참고 자료 신속 수집
- ✅ 특허 가치 평가의 객관적 근거
- ✅ 이의 대응 시 관련 특허 빠른 찾기

---

## **핵심 인사이트**

**PATHTENT를 한 문장으로 설명하면:**

> "똑똑한 특허 사서" — 당신의 기술이 무엇을 하는지 이해하고, 같은 문제를 푸는 기존 특허들을 모두 찾아주는 AI 시스템

키워드 검색이 아니라 **의미 기반 검색**이기 때문에, 다른 용어를 사용하는 특허도 찾을 수 있습니다.

예를 들어:
- 사용자: "금속 부품의 열 접합"
- 발견: "알루미늄 소재의 용접", "강철 용접 공정", "금속 용해 결합" 등
- 모두 기술적으로 유사한 특허들

---

이제 명확한가요? 추가로 궁금한 부분이 있으시면 말씀해주세요!
